version: '3.7'

services:

  worker-1:
    build: .
    command: celery -A app.scheduler.tasks-1:app worker -l info -c 2
    depends_on:
      - redis

  worker-2:
    build: .
    command: celery -A app.scheduler.tasks-2:app worker -l info -c 2
    depends_on:
      - redis

  worker-3:
    build: .
    command: celery -A app.scheduler.tasks-3:app worker -l info -c 2
    depends_on:
      - redis

  worker-4:
    build: .
    command: celery -A app.scheduler.tasks-4:app worker -l info -c 2
    depends_on:
      - redis

  worker-5:
    build: .
    command: celery -A app.scheduler.tasks-5:app worker -l info -c 2
    depends_on:
      - redis

  worker-6:
    build: .
    command: celery -A app.scheduler.tasks-6:app worker -l info -c 2
    depends_on:
      - redis

  worker-7:
    build: .
    command: celery -A app.scheduler.tasks-7:app worker -l info -c 2
    depends_on:
      - redis

  worker-8:
    build: .
    command: celery -A app.scheduler.tasks-8:app worker -l info -c 2
    depends_on:
      - redis

  worker-9:
    build: .
    command: celery -A app.scheduler.tasks-9:app worker -l info -c 2
    depends_on:
      - redis

  worker-10:
    build: .
    command: celery -A app.scheduler.tasks-10:app worker -l info -c 2
    depends_on:
      - redis

  beat-1:
    build: .
    command: celery -A app.scheduler.tasks-1:app beat -l info
    depends_on:
      - redis
  
  beat-2:
    build: .
    command: celery -A app.scheduler.tasks-2:app beat -l info
    depends_on:
      - redis
  
  beat-3:
    build: .
    command: celery -A app.scheduler.tasks-3:app beat -l info
    depends_on:
      - redis

  beat-4:
    build: .
    command: celery -A app.scheduler.tasks-4:app beat -l info
    depends_on:
      - redis

  beat-5:
    build: .
    command: celery -A app.scheduler.tasks-5:app beat -l info
    depends_on:
      - redis

  beat-6:
    build: .
    command: celery -A app.scheduler.tasks-6:app beat -l info
    depends_on:
      - redis

  beat-7:
    build: .
    command: celery -A app.scheduler.tasks-7:app beat -l info
    depends_on:
      - redis

  beat-8:
    build: .
    command: celery -A app.scheduler.tasks-8:app beat -l info
    depends_on:
      - redis

  beat-9:
    build: .
    command: celery -A app.scheduler.tasks-9:app beat -l info
    depends_on:
      - redis

  beat-10:
    build: .
    command: celery -A app.scheduler.tasks-10:app beat -l info
    depends_on:
      - redis

  redis:
    image: "redis:alpine"